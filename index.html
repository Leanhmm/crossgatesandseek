<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hide and Seek at the Mall</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background-color: #f0f0f0;
    }
    .card {
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px;
      margin: 10px;
      display: inline-block;
    }
    .button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    #questionDisplay {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="main">
    <h1>Hide and Seek at the Mall</h1>
    <button class="button" onclick="goToRole('hider')">I'm a Hider</button>
    <button class="button" onclick="goToRole('seeker')">I'm a Seeker</button>
  </div>

  <div id="hiderPage" style="display: none;">
    <h2>Hider Mode</h2>
    <button class="button" onclick="drawCard()">Draw 1 Card</button>
    <button class="button" onclick="drawThreeChooseOne()">Draw 3 Cards, Choose 1</button>
    <h3>Your Hand:</h3>
    <div id="hand"></div>
  </div>

  <div id="seekerPage" style="display: none;">
    <h2>Seeker Mode</h2>
    <button class="button" onclick="askQuestion(0)">Question 1</button>
    <button class="button" onclick="askQuestion(1)">Question 2</button>
    <button class="button" onclick="askQuestion(2)">Question 3</button>
    <button class="button" onclick="askQuestion(3)">Question 4</button>
    <button class="button" onclick="askQuestion(4)">Question 5</button>
    <div id="questionDisplay"></div>
  </div>

  <script>
    const allCards = [
      "Speed Boost",
      "Invisible Cloak",
      "Decoy",
      "Mall Map",
      "Time Freeze"
    ];

    const hand = [];

    function goToRole(role) {
      document.getElementById('main').style.display = 'none';
      if (role === 'hider') {
        document.getElementById('hiderPage').style.display = 'block';
      } else if (role === 'seeker') {
        document.getElementById('seekerPage').style.display = 'block';
      }
    }

    function drawCard() {
      const card = getRandomCard();
      hand.push(card);
      renderHand();
    }

    function drawThreeChooseOne() {
      const cards = [getRandomCard(), getRandomCard(), getRandomCard()];
      const chooser = document.createElement('div');
      chooser.innerHTML = '<h3>Choose one card:</h3>';
      cards.forEach(card => {
        const btn = document.createElement('button');
        btn.innerText = card;
        btn.className = 'button';
        btn.onclick = () => {
          hand.push(card);
          renderHand();
          chooser.remove();
        };
        chooser.appendChild(btn);
      });
      document.body.appendChild(chooser);
    }

    function getRandomCard() {
      return allCards[Math.floor(Math.random() * allCards.length)];
    }

    function renderHand() {
      const handDiv = document.getElementById('hand');
      handDiv.innerHTML = '';
      hand.forEach((card, index) => {
        const cardDiv = document.createElement('div');
        cardDiv.className = 'card';
        cardDiv.innerHTML = `${card} <br><button onclick="useCard(${index})">Use</button>`;
        handDiv.appendChild(cardDiv);
      });
    }

    function useCard(index) {
      alert(`You used: ${hand[index]}`);
      hand.splice(index, 1);
      renderHand();
    }

    // Seeker questions logic
    const wordBank = ["store", "bathroom", "bench", "escalator", "food court"];

    const questionTemplates = [
      "Is your nearest ___ the same as my nearest ___?",
      "Notify the hiders that you are starting a thermometer. Once they respond, you have 30 seconds to move. The Hiders must then state if you are hotter or colder.",
      "Out of all the ___ places within five stores of the seekers, which are the hiders closest to?",
      "Take a photo of ___",
      "Are you hiding near a ___?"
    ];

    function askQuestion(index) {
      const template = questionTemplates[index];
      const word = wordBank[Math.floor(Math.random() * wordBank.length)];
      const filledQuestion = template.replace(/___/g, word);
      document.getElementById('questionDisplay').innerText = filledQuestion;
    }
  </script>
</body>
</html>
